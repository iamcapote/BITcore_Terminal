<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research Library | BITwiki</title>
    <!-- Corrected path to main stylesheet -->
    <link rel="stylesheet" href="/style.css">
    <!-- Removed inline styles, now in style.css -->
</head>
<body>
    <div class="wiki-container">
        <div class="wiki-header">
            <div class="wiki-logo">BITwiki</div>
            <div class="wiki-nav">
                <ul>
                    <li><a href="/">Research Terminal</a></li>
                    <li class="active"><a href="/research/">My Research</a></li>
                    <li><a href="https://bitwiki.org/wiki/Main_Page">Main Page</a></li>
                    <li><a href="https://bitwiki.org/wiki/Special:Random">Random Article</a></li>
                    <li><a href="https://bitwiki.org/wiki/Main_Page">About BITwiki</a></li>
                </ul>
            </div>
        </div>

        <div class="wiki-content">
            <h1>Research Library</h1>
            <div class="page-subtitle">From BITwiki, the free encyclopedia</div>

            <p>Browse the research files generated by BITCORE AI. Your research is automatically saved and organized here.</p>

            <div class="breadcrumb">
                <span>You are here:</span>
                <a href="/">BITwiki</a> &raquo;
                <span>Research Library</span>
            </div>

            <!-- User indicator -->
            <div class="user-indicator">
                <div class="user-avatar">P</div>
                <div>Current user: <strong>PUBLIC</strong></div>
            </div>

            <!-- Statistics Dashboard -->
            <div class="stats-container">
                <div class="stat-box">
                    <div class="stat-value" id="stat-docs">0</div>
                    <div class="stat-label">Total Documents</div>
                    <div class="ferrofluid ferrofluid-docs">
                        <div class="ferrofluid-animation"></div>
                    </div>
                </div>

                <div class="stat-box">
                    <div class="stat-value" id="stat-categories">0</div>
                    <div class="stat-label">Categories</div>
                    <div class="ferrofluid ferrofluid-categories">
                        <div class="ferrofluid-animation"></div>
                    </div>
                </div>

                <div class="stat-box">
                    <div class="stat-value" id="stat-tags">0</div>
                    <div class="stat-label">Tags</div>
                    <div class="ferrofluid ferrofluid-tags">
                        <div class="ferrofluid-animation"></div>
                    </div>
                </div>
            </div>

            <!-- Two-column layout for file explorer and document viewer -->
            <div class="content-container">
                <div class="file-explorer">
                    <!-- Tab system -->
                    <div class="tab-container">
                        <div class="tab-buttons">
                            <button class="tab-btn active" data-tab="all-files">All Files</button>
                            <button class="tab-btn" data-tab="by-category">By Category</button>
                            <button class="tab-btn" data-tab="by-tags">By Tags</button>
                        </div>

                        <!-- All files tab - Content will be rendered dynamically -->
                        <div class="tab-content active" id="all-files">
                            <div id="research-tree-all">Loading files...</div>
                        </div>

                        <!-- By category tab - Content will be rendered dynamically -->
                        <div class="tab-content" id="by-category">
                             <div id="research-tree-category">Loading categories...</div>
                        </div>

                        <!-- By tags tab - Content will be rendered dynamically -->
                        <div class="tab-content" id="by-tags">
                             <div id="research-tree-tags">Loading tags...</div>
                        </div>
                    </div>
                </div>

                <!-- Markdown document viewer -->
                <div class="document-viewer hidden" id="document-viewer">
                    <h2 class="markdown-title" id="markdown-title">Select a Document</h2>

                    <div class="markdown-meta">
                        <div>
                            <strong>Categories:</strong>
                            <span id="document-categories"></span>
                        </div>
                        <div>
                            <strong>Tags:</strong>
                            <span id="document-tags"></span>
                        </div>
                    </div>

                    <div class="markdown-content" id="markdown-content">
                        Select a document from the file explorer to view its contents.
                    </div>

                    <div class="document-actions">
                        <button class="action-btn" onclick="editDocument()">Edit</button>
                        <button class="action-btn" onclick="saveToGitHub()">Save to GitHub</button>
                        <button class="action-btn" onclick="closeDocument()">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="wiki-footer">
            <p>This page was last edited on 14 April 2025, at 13:37 (UTC).</p>
            <p>Text is available under the <a href="#">Creative Commons Attribution-ShareAlike License</a>; additional terms may apply.</p>
            <p>BITwikiÂ® is a registered trademark of the BITmedia Foundation, Inc.</p>
        </div>
    </div>

    <!-- Link external JavaScript file -->
    <!-- Corrected path to research-specific javascript -->
    <script src="/research/research.js"></script>
    <!-- Placeholder for Markdown rendering library -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script> -->
</body>
</html>